(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["main-Find"],{2954:function(t,e,i){"use strict";var n=i("2f3a"),s=i.n(n);s.a},"2f3a":function(t,e,i){},4260:function(t,e,i){},"79b4":function(t,e,i){"use strict";var n=i("b7ef"),s=i.n(n);s.a},b7ef:function(t,e,i){},b7f7:function(t,e,i){"use strict";var n=i("4260"),s=i.n(n);s.a},bf70:function(t,e,i){"use strict";var n=i("f220"),s=i.n(n);s.a},f220:function(t,e,i){},f332:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("main",{staticStyle:{"margin-top":"1rem"}},[i("carousel-image",{attrs:{height:t.carousel.height,interval:t.carousel.interval,list:t.carousel.list}}),i("nav-Menu"),i("recommend-song-list",{attrs:{songListData:t.songListData}}),i("new-song-list",{attrs:{newSongData:t.newSongData,newSongDish:t.newSongDish}})],1)},s=[],a=(i("96cf"),i("1da1")),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"carousel"}},[i("ul",{ref:"pictureCollectionRef",staticClass:"pictureCollection",style:{transform:t.swiperStyle.transform,transition:t.swiperStyle.transition,height:t.height},on:{touchstart:t.stopTime,touchend:t.upTime,touchmove:t.moveImg}}),i("ul",{staticClass:"carouselIndicator",attrs:{"v-if":t.isIndicator}},t._l(t.list.length,(function(e,n){return i("li",{key:n,staticClass:"carouselIndicatorItem"},[i("span",{class:[n==t.index-1?"is-active-item":"","dot"]})])})),0)])},o=[],c=(i("99af"),i("4160"),i("a9e3"),i("159b"),{name:"CarouselImage",data:function(){return{index:1,imgLength:0,timer:null,swiperStyle:{},start:{x:0},isMove:!1,time:300}},props:{height:{type:String,default:"10rem"},interval:{type:Number,default:2e3},transitionTime:{type:Number,default:1e3},isIndicator:{type:Boolean,default:!0},list:{type:Array,default:function(){return[]}}},methods:{showImage:function(){var t=this,e=this.list,i=this.$refs.pictureCollectionRef;i.style.width=this.mobileWidth*(e.length+2)+"px",e.forEach((function(e){var n=document.createElement("li"),s='<a href="'.concat(e.url?e.url:"#",'">\n        <img src="').concat(e.pic,'"  style="height:').concat(t.height,'"/></a>');n.className="picture",n.innerHTML=s,i.appendChild(n)}));var n=i.firstChild.cloneNode(!0),s=i.lastChild.cloneNode(!0);i.appendChild(n),i.insertBefore(s,i.firstChild),this.swiperStyle={transform:"translateX(-".concat(this.mobileWidth,"px)")}},autoCarousel:function(){this.imgLength=this.list.length+2,this.autoplay(this.imgLength)},autoplay:function(t){var e=this;this.timer=setInterval((function(){if(e.index++,e.index===t-1)return clearInterval(e.timer),e.criticality(1),e.autoplay(t);e.handleMove()}),this.interval)},criticality:function(t,e){var i=this;this.handleMove(e),this.index=t,setTimeout((function(){i.swiperStyle={transform:"translateX(-"+i.mobileWidth*t+"px)",transition:"all 0s"}}),e||this.transitionTime)},handleMove:function(t){var e=this.mobileWidth*this.index;this.swiperStyle=t?{transform:"translateX(-"+e+"px)",transition:"transform "+t+"ms"}:{transform:"translateX(-"+e+"px)",transition:"transform "+this.transitionTime+"ms"}},stopTime:function(t){t.stopPropagation(),this.timer&&(clearInterval(this.timer),this.timer=null),this.start.x=t.changedTouches[0].pageX},upTime:function(t){if(this.isMove){t.stopPropagation();var e=t.changedTouches[0].pageX-this.start.x;e<0?(this.index++,this.index===this.list.length+1?this.criticality(1,this.time):this.handleMove(this.time)):(this.index--,0===this.index?this.criticality(9,this.time):this.handleMove(this.time))}this.isMove=!1,this.autoplay(this.imgLength)},moveImg:function(t){t.stopPropagation(),this.timer&&(clearInterval(this.timer),this.timer=null);var e=t.changedTouches[0].pageX-this.start.x;this.swiperStyle={transform:"translateX(".concat(-this.index*this.mobileWidth+e,"px)"),transition:"transform 0s"},this.isMove=!0}},watch:{list:function(t,e){t&&(this.showImage(),this.autoCarousel())}},computed:{mobileWidth:function(){return document.body.clientWidth}}}),l=c,u=(i("b7f7"),i("2877")),h=Object(u["a"])(l,r,o,!1,null,"e4f5df76",null),m=h.exports,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nav",{staticClass:"navCantainer"},[i("div",{ref:"contentRef",staticClass:"content"},[t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5)])])},d=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option"},[i("p",[i("span")]),i("p",[t._v("每日推荐")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option"},[i("p",[i("span")]),i("p",[t._v("歌单")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option"},[i("p",[i("span")]),i("p",[t._v("排行榜")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option"},[i("p",[i("span")]),i("p",[t._v("电台")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option"},[i("p",[i("span")]),i("p",[t._v("直播")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"option"},[i("p",[i("span")]),i("p",[t._v("唱聊")])])}],v={name:"NavMenu",data:function(){return{}},methods:{}},f=v,g=(i("bf70"),Object(u["a"])(f,p,d,!1,null,"2ba5403c",null)),y=g.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{attrs:{id:"songListBar"}},[t._m(0),i("div",{staticClass:"songList"},[i("div",{staticClass:"content"},t._l(t.songListData,(function(e,n){return i("div",{key:n,staticClass:"options",on:{touchmove:t.slipDetection,touchend:function(i){return t.getSongListDatelis(e)}}},[i("div",{staticClass:"square"},[i("div",{staticClass:"imgUrl",style:{backgroundImage:"url("+e.picUrl+")"}}),i("div",{staticClass:"playNumber"},[i("span"),i("i",[t._v(t._s(t._f("shear")(e.playCount)))])])]),i("p",[t._v(t._s(e.name))])])})),0)])])},_=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bar"},[i("h5",[t._v("推荐歌单")]),i("div",{staticClass:"discribe clearfix"},[i("p",[t._v("为你精挑细选")]),i("span",[t._v("查看更多")])])])}],b=(i("b0c0"),i("ae88")),x={name:"RecommendSongList",data:function(){return{isMove:!1}},props:{songListData:{type:Array,default:function(){return[]}}},mounted:function(){},methods:{slipDetection:function(){this.isMove=!0},getSongListDatelis:function(t){this.isMove||this.$store.commit(b["i"],{id:t.id,name:t.name,picUrl:t.picUrl,isShow:!0}),this.isMove=!1}}},S=x,C=(i("79b4"),Object(u["a"])(S,w,_,!1,null,"33b9d777",null)),D=C.exports,M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{attrs:{id:"newSongbar"}},[i("div",{staticClass:"bar"},[i("time",[t._v(t._s(t.Daily))]),i("div",{staticClass:"title clearfix"},[i("div",{staticClass:"switch"},[i("span",{class:{active:t.songType},on:{click:function(e){t.songType=!0}}},[t._v("新歌")]),t._v(" | "),i("span",{class:{active:!t.songType},on:{click:function(e){t.songType=!1}}},[t._v("新碟")])]),i("div",{staticClass:"more"},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.songType,expression:"songType"}]},[t._v("更多新歌")]),i("span",{directives:[{name:"show",rawName:"v-show",value:!t.songType,expression:"!songType"}]},[t._v("更多新碟")])])])]),i("div",{staticClass:"content "},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.songType,expression:"songType"}],staticClass:"list",style:t.listStyle,on:{touchstart:t.saveX,touchend:t.slide,touchmove:t.moveImg}},t._l(t.newSongData,(function(e,n){return i("div",{key:n,staticClass:"items",on:{touchmove:t.slipDetection,touchend:function(i){return t.playMusic(e)}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"item.picUrl"}],attrs:{ontouchend:"return false"}}),i("div",{staticClass:"detailedInfo"},[i("p",[t._v(" "+t._s(e.name)+" "),i("span",[t._v("-"+t._s(e.song.artists[0].name))])]),i("p",[i("span",[t._v(t._s(e.song.alias[0]))])])])])})),0),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.songType,expression:"!songType"}],staticClass:"list",style:t.listStyle,on:{touchstart:t.saveX,touchend:t.slide,touchmove:t.moveImg}},t._l(t.newSongDish,(function(e,n){return i("div",{key:n,staticClass:"items"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"item.picUrl"}]}),i("div",{staticClass:"detailedInfo"},[i("p",[t._v(" "+t._s(e.name)+" "),i("span",[t._v("-"+t._s(e.artists[0].name))])])])])})),0)])])},T=[],$={name:"NewSongList",data:function(){return{songType:!0,start:{x:0},index:0,listStyle:{},isMove:!1}},props:{newSongData:{type:Array,default:function(){return[]}},newSongDish:{type:Array,default:function(){return[]}}},methods:{saveX:function(t){this.start.x=t.changedTouches[0].pageX},moveImg:function(t){var e=t.changedTouches[0].pageX-this.start.x;if(e<0){if(4===this.index)return!1}else if(0===this.index)return!1;this.setMoveStyle(e)},slide:function(t){var e=t.changedTouches[0].pageX-this.start.x;if(e<0){if(4===this.index)return!1;this.index++,this.setMoveStyle(0,.4)}else if(e>0){if(0===this.index)return!1;this.index--,this.setMoveStyle(0,.4)}},setMoveStyle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.listStyle={transform:"translateX(".concat(-this.index*this.mobileWidth*.9+t,"px)"),transition:"transform ".concat(e,"s")}},slipDetection:function(){this.isMove=!0},playMusic:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:e.isMove||e.musicID===t.id?e.isMove||e.$store.commit(b["l"],!0):(e.musicID=t.id,e.$store.commit(b["h"],{id:t.id,name:t.name,arName:t.song.artists[0].name,picUrl:t.picUrl}),!1===e.$store.state.isShowOperationSong&&!1===e.$store.state.isShowPlayer&&e.$store.commit(b["l"],!0)),e.$store.state.playObj.playPause||(e.$store.commit(b["b"],!e.$store.state.playObj.jukeboxStop),e.$store.commit(b["e"],!e.$store.state.playObj.playPause)),e.isMove=!1;case 3:case"end":return i.stop()}}),i)})))()}},computed:{Daily:function(){var t=new Date;return t.getMonth()+1+"月"+t.getDate()+"日"},mobileWidth:function(){return document.body.clientWidth}}},I=$,N=(i("2954"),Object(u["a"])(I,M,T,!1,null,"25128ed1",null)),L=N.exports,k=i("4eeb"),R={data:function(){return{carousel:{height:"12rem",interval:3e3,list:[]},songListData:[],newSongData:[],newSongDish:[]}},components:{CarouselImage:m,NavMenu:y,RecommendSongList:D,NewSongList:L},created:function(){this.getObtainCarousel(),this.getRecommendedSongList(),this.getNewSong(),this.getNewDish()},methods:{getObtainCarousel:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k["a"].bannerSwiper();case 2:if(i=e.sent,n=i.data,void 0!==n){e.next=8;break}return e.abrupt("return",!1);case 8:200===n.code&&(t.carousel.list=n.banners);case 9:case"end":return e.stop()}}),e)})))()},getRecommendedSongList:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k["a"].personalizedSong();case 2:if(i=e.sent,n=i.data,void 0!==n){e.next=8;break}return e.abrupt("return",!1);case 8:200===n.code&&(t.songListData=n.result);case 9:case"end":return e.stop()}}),e)})))()},getNewSong:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k["a"].personalizedNewSong();case 2:if(i=e.sent,n=i.data,void 0!==n){e.next=8;break}return e.abrupt("return",!1);case 8:200===n.code&&(t.newSongData=n.result);case 9:case"end":return e.stop()}}),e)})))()},getNewDish:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k["a"].personalizedNewDish();case 2:if(i=e.sent,n=i.data,void 0!==n){e.next=8;break}return e.abrupt("return",!1);case 8:200===n.code&&(t.newSongDish=n.albums);case 9:case"end":return e.stop()}}),e)})))()}}},O=R,X=Object(u["a"])(O,n,s,!1,null,"b377e3c6",null);e["default"]=X.exports}}]);
//# sourceMappingURL=main-Find.d1ce4f21.js.map